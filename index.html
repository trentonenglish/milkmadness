<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Cookie Dunk Showdown ‚Äì Milk Madness Edition</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Preload critical assets -->
    <link rel="preload" href="Images/background.png" as="image">
    <link rel="preload" href="Images/whisk.png" as="image">
</head>
<body>
    <div id="game-container">
        <div id="game-ui">
            <div id="score-container">
                <span id="score">0</span>
            </div>
            <div id="lives-container">
                <span id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
            </div>
        </div>
        <canvas id="game-canvas"></canvas>
        <div id="controls">
            <button id="pause-btn">‚è∏Ô∏è</button>
            <button id="replay-btn" style="display: none;">üîÑ</button>
        </div>
        
        <!-- Tutorial Overlay -->
        <div id="tutorial-overlay" style="display: flex;">
            <div class="tutorial-content">
                <h2>Cookie Dunk Showdown</h2>
                <p><strong>Tap or Spacebar</strong> to make the cookie fly</p>
                <div class="tutorial-image">
                    <div class="cookie-icon">üç™</div>
                    <div class="arrow-icon">‚¨áÔ∏è</div>
                    <div class="milk-icon">ü•õ</div>
                </div>
                <p>Dunk into milk glasses for points</p>
                <p>Avoid the pipes like in Flappy Bird</p>
                <p>Collect power-ups for special abilities</p>
                <button id="start-game-btn">Start Game</button>
            </div>
        </div>
        
        <div id="game-over" style="display: none;">
            <h2>Game Over!</h2>
            <p>You dunked <span id="final-score">0</span> cookies!</p>
            <form id="score-form">
                <input type="email" id="email-input" placeholder="Enter your email for rewards" required>
                <button type="submit" id="submit-score">Save Score</button>
            </form>
            <button id="replay-btn-over">Play Again</button>
            <button id="leaderboard-btn">Leaderboard</button>
        </div>
        
        <div id="leaderboard" style="display: none;">
            <h2>Leaderboard</h2>
            <div id="leaderboard-list"></div>
            <button id="close-leaderboard">Close</button>
        </div>
        
        <div id="message-container" style="display: none;">
            <div id="message"></div>
        </div>
        
        <div id="power-up-indicator" style="display: none;">
            <div id="power-up-icon"></div>
            <div id="power-up-timer"></div>
        </div>
        
        <!-- Performance mode toggle for mobile -->
        <div id="performance-toggle" style="position: absolute; bottom: 10px; right: 10px; z-index: 100;">
            <label for="perf-mode" style="color: white; font-size: 12px; text-shadow: 1px 1px 2px black;">
                <input type="checkbox" id="perf-mode" checked> Performance Mode
            </label>
        </div>
    </div>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js" defer></script>
    
    <!-- Game Scripts -->
    <script src="js/config.js"></script>
    <script src="js/assets.js"></script>
    <script src="js/player.js" defer></script>
    <script src="js/milk-glass.js" defer></script>
    <script src="js/pipe.js" defer></script>
    <script src="js/powerup.js" defer></script>
    <script src="js/particle.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/game.js" defer></script>
    <script src="js/leaderboard.js" defer></script>
    <script src="js/main.js" defer></script>
</body>
</html>
